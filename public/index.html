<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js"></script>
    <script src="http://codeseven.github.io/toastr/toastr.js"></script>
    <script type="text/javascript" src="js/toastroptions.js"></script>
    <script src="http://underscorejs.org/underscore.js"></script>
    <script type="text/javascript" src="js/services.js"></script>
    <script type="text/javascript" src="js/rmonitor.js"></script>

    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="http://codeseven.github.io/toastr/toastr.css"/>
    <link rel="stylesheet" href="services.css"/>

    <title></title>
</head>
<body>
<div ng-app="ServiceModule">
    <div ng-controller="ServicesCtrl" class="container">
        <h3>Проверка связи с сервисами</h3>
        <form name="addServiceForm">
            <table class="table">
                <tr class="tableHead">
                    <th class="serviceName">Наименовование</th>
                    <th class="serviceAddress">Адрес</th>
                    <th>Браузер</th>
                    <th>Сервер <span style="color:red" class="{{viewStatusServer}}"></span></th>
                    <th></th>
                </tr>
                <tr class="tableBody">
                    <div class="control-group tableBody" ng-class="{error: addServiceForm.name.$invalid}">
                        <td>
                            <input class="form-control" type="text" name="name" class="input" placeholder="Наименование" ng-model="search.name" required/>
                        </td>
                        <td>
                            <input class="form-control" type="text" name="url" class="input" placeholder="Адрес" ng-model="search.FeatureServiceUrl" required/>
                        </td>
                        <td></td>
                        <td></td>
                        <td>
                            <button ng-disabled="addServiceForm.$invalid" class="btn btn-primary" ng-click="addService()">Добавить</button>
                        </td>
                    </div>
                </tr>
                <tr ng-repeat="service in services | filter:search">
                    <td class="tableBody">{{ service.name }}</td>
                    <td class="tableBody"><a href="{{ service.FeatureServiceUrl}}">{{ service.FeatureServiceUrl}}</a></td>
                    <td class="status-{{ service.statusBrowser }}"><span class="{{service.iconclass}}"></span></td>
                    <td class="status-{{ service.statusServer }}"><span class="{{service.servericonclass}}"></span></td>
                    <td class="tableBody"><button class="btn btn-danger" ng-click="deleteService(service)">Удалить</button></td>
                </tr>
            </table>
        </form>
    </div>
</div>
</body>
</html>